<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.generator.mapper.CartonoutMapper" >
  <resultMap id="BaseResultMap" type="com.generator.pojo.Cartonout" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="delivery_number" property="deliveryNumber" jdbcType="VARCHAR" />
    <result column="order_account" property="orderAccount" jdbcType="VARCHAR" />
    <result column="custom_company" property="customCompany" jdbcType="VARCHAR" />
    <result column="product_name" property="productName" jdbcType="VARCHAR" />
    <result column="material_name" property="materialName" jdbcType="VARCHAR" />
    <result column="pit_type_name" property="pitTypeName" jdbcType="VARCHAR" />
    <result column="specifications" property="specifications" jdbcType="VARCHAR" />
    <result column="order_num" property="orderNum" jdbcType="INTEGER" />
    <result column="out_num" property="outNum" jdbcType="INTEGER" />
    <result column="out_time" property="outTime" jdbcType="VARCHAR" />
    <result column="reservoir" property="reservoir" jdbcType="VARCHAR" />
    <result column="pallet_number" property="palletNumber" jdbcType="INTEGER" />
    <result column="carton_price" property="cartonPrice" jdbcType="DOUBLE" />
    <result column="staff_id" property="staffId" jdbcType="VARCHAR" />
    <result column="deli_num" property="deliNum" jdbcType="INTEGER" />
    <result column="consignee_num" property="consigneeNum" jdbcType="INTEGER" />
    <result column="isconsignee_num" property="isconsigneeNum" jdbcType="INTEGER" />
    <result column="isconsignee" property="isconsignee" jdbcType="VARCHAR" />
    <result column="scrap_num" property="scrapNum" jdbcType="INTEGER" />
    <result column="minority_num" property="minorityNum" jdbcType="INTEGER" />
    <result column="return_num" property="returnNum" jdbcType="INTEGER" />
    <result column="fake" property="fake" jdbcType="INTEGER" />
    <result column="all_price" property="allPrice" jdbcType="DOUBLE" />

    <!--一对多关联查询
    <collection property="cartonOutInfos" ofType="com.generator.pojo.CartonOutInfo" column="id">
      <id column="productName" property="productName"/>这里的column对应的是下面查询的别名，而不是表字段名
      <result column="Specifications" property="specifications"/> property对应JavaBean中的属性名
      <result column="outNum" property="outNum"/>
      <result column="CartonPrice" property="cartonPrice"/>
    </collection>
  -->
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, delivery_number, order_account, custom_company, product_name, material_name, 
    pit_type_name, specifications, order_num, out_num, out_time, reservoir, pallet_number, 
    carton_price, staff_id, deli_num, consignee_num, isconsignee_num, isconsignee, scrap_num, 
    minority_num, return_num, fake,all_price
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from cartonOut
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectByCus" resultType="com.generator.pojo.Cartonout">
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where delivery_number in
    <foreach collection="list" item="item" open="(" close=")" separator=",">
      #{item.deliveryNumber}
    </foreach>
  </select>
  <select id="selectByNums" resultType="com.generator.pojo.Cartonout">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where delivery_number in
    <foreach collection="array" item="deliveryNumber" index="index" open="(" separator="," close=")">
    #{deliveryNumber}
    </foreach>
    and consignee_num+minority_num+return_num &lt; out_num
  </select>
  <select id="selectByNum" resultType="com.generator.pojo.Cartonout">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where delivery_number =#{deliveryNumber} and consignee_num+minority_num+return_num &lt; out_num
  </select>
  <select id="selectByTopjui" resultType="com.generator.pojo.Cartonout">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where order_account = #{orderAccount}
  </select>
  <select id="selectDui" resultType="com.generator.pojo.Cartonout">
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where custom_company = #{custom} and out_time &gt;=#{stratime} and out_time &lt;=#{endtime} and fake=0
  </select>
  <select id="selectByD" resultType="com.generator.pojo.Cartonout">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from cartonOut
    where delivery_number =#{deliveryNumber}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from cartonOut
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="addCO">
    INSERT INTO cartonOut
    (delivery_number,
    order_account,
    custom_company,
    product_name,
    material_name,
    pit_type_name,
    specifications,
    order_num,
    out_num,
    out_time,
    reservoir,
    pallet_number,
    carton_price,
    staff_id,
    deli_num,
    consignee_num,
    isconsignee_num,
    isconsignee,
    scrap_num,
    minority_num,
    return_num,
    fake,
    all_price)
    VALUES
    <foreach collection ="list" item="item" separator =",">
      <trim prefix="(" suffix=")" suffixOverrides=",">
        #{item.deliveryNumber},
        #{item.orderAccount},
        #{item.customCompany},
        #{item.productName},
        #{item.materialName},
        #{item.pitTypeName},
        #{item.specifications},
        #{item.orderNum},
        #{item.outNum},
        #{item.outTime},
        #{item.reservoir},
        #{item.palletNumber},
        #{item.cartonPrice},
        #{item.staffId},
        #{item.deliNum},
        #{item.consigneeNum},
        #{item.isconsigneeNum},
        #{item.isconsignee},
        #{item.scrapNum},
        #{item.minorityNum},
        #{item.returnNum},
        #{item.fake},
        #{item.allPrice}
      </trim>
    </foreach >

  </insert>
  <insert id="insert" parameterType="com.generator.pojo.Cartonout" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into cartonOut (id, delivery_number, order_account, 
      custom_company, product_name, material_name, 
      pit_type_name, specifications, order_num, 
      out_num, out_time, reservoir, 
      pallet_number, carton_price, staff_id, 
      deli_num, consignee_num, isconsignee_num, 
      isconsignee, scrap_num, minority_num, 
      return_num, fake,all_price)
    values (#{id,jdbcType=INTEGER}, #{deliveryNumber,jdbcType=VARCHAR}, #{orderAccount,jdbcType=VARCHAR}, 
      #{customCompany,jdbcType=VARCHAR}, #{productName,jdbcType=VARCHAR}, #{materialName,jdbcType=VARCHAR}, 
      #{pitTypeName,jdbcType=VARCHAR}, #{specifications,jdbcType=VARCHAR}, #{orderNum,jdbcType=INTEGER}, 
      #{outNum,jdbcType=INTEGER}, #{outTime,jdbcType=VARCHAR}, #{reservoir,jdbcType=VARCHAR}, 
      #{palletNumber,jdbcType=INTEGER}, #{cartonPrice,jdbcType=DOUBLE}, #{staffId,jdbcType=VARCHAR}, 
      #{deliNum,jdbcType=INTEGER}, #{consigneeNum,jdbcType=INTEGER}, #{isconsigneeNum,jdbcType=INTEGER}, 
      #{isconsignee,jdbcType=VARCHAR}, #{scrapNum,jdbcType=INTEGER}, #{minorityNum,jdbcType=INTEGER}, 
      #{returnNum,jdbcType=INTEGER}, #{fake,jdbcType=INTEGER},#{allPrice,jdbcType=DOUBLE})
  </insert>
  <insert id="insertSelective" parameterType="com.generator.pojo.Cartonout" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into cartonOut
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="deliveryNumber != null" >
        delivery_number,
      </if>
      <if test="orderAccount != null" >
        order_account,
      </if>
      <if test="customCompany != null" >
        custom_company,
      </if>
      <if test="productName != null" >
        product_name,
      </if>
      <if test="materialName != null" >
        material_name,
      </if>
      <if test="pitTypeName != null" >
        pit_type_name,
      </if>
      <if test="specifications != null" >
        specifications,
      </if>
      <if test="orderNum != null" >
        order_num,
      </if>
      <if test="outNum != null" >
        out_num,
      </if>
      <if test="outTime != null" >
        out_time,
      </if>
      <if test="reservoir != null" >
        reservoir,
      </if>
      <if test="palletNumber != null" >
        pallet_number,
      </if>
      <if test="cartonPrice != null" >
        carton_price,
      </if>
      <if test="staffId != null" >
        staff_id,
      </if>
      <if test="deliNum != null" >
        deli_num,
      </if>
      <if test="consigneeNum != null" >
        consignee_num,
      </if>
      <if test="isconsigneeNum != null" >
        isconsignee_num,
      </if>
      <if test="isconsignee != null" >
        isconsignee,
      </if>
      <if test="scrapNum != null" >
        scrap_num,
      </if>
      <if test="minorityNum != null" >
        minority_num,
      </if>
      <if test="returnNum != null" >
        return_num,
      </if>
      <if test="fake != null" >
        fake,
      </if>
        <if test="allPrice != null" >
            all_price
        </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="deliveryNumber != null" >
        #{deliveryNumber,jdbcType=VARCHAR},
      </if>
      <if test="orderAccount != null" >
        #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="customCompany != null" >
        #{customCompany,jdbcType=VARCHAR},
      </if>
      <if test="productName != null" >
        #{productName,jdbcType=VARCHAR},
      </if>
      <if test="materialName != null" >
        #{materialName,jdbcType=VARCHAR},
      </if>
      <if test="pitTypeName != null" >
        #{pitTypeName,jdbcType=VARCHAR},
      </if>
      <if test="specifications != null" >
        #{specifications,jdbcType=VARCHAR},
      </if>
      <if test="orderNum != null" >
        #{orderNum,jdbcType=INTEGER},
      </if>
      <if test="outNum != null" >
        #{outNum,jdbcType=INTEGER},
      </if>
      <if test="outTime != null" >
        #{outTime,jdbcType=VARCHAR},
      </if>
      <if test="reservoir != null" >
        #{reservoir,jdbcType=VARCHAR},
      </if>
      <if test="palletNumber != null" >
        #{palletNumber,jdbcType=INTEGER},
      </if>
      <if test="cartonPrice != null" >
        #{cartonPrice,jdbcType=DOUBLE},
      </if>
      <if test="staffId != null" >
        #{staffId,jdbcType=VARCHAR},
      </if>
      <if test="deliNum != null" >
        #{deliNum,jdbcType=INTEGER},
      </if>
      <if test="consigneeNum != null" >
        #{consigneeNum,jdbcType=INTEGER},
      </if>
      <if test="isconsigneeNum != null" >
        #{isconsigneeNum,jdbcType=INTEGER},
      </if>
      <if test="isconsignee != null" >
        #{isconsignee,jdbcType=VARCHAR},
      </if>
      <if test="scrapNum != null" >
        #{scrapNum,jdbcType=INTEGER},
      </if>
      <if test="minorityNum != null" >
        #{minorityNum,jdbcType=INTEGER},
      </if>
      <if test="returnNum != null" >
        #{returnNum,jdbcType=INTEGER},
      </if>
      <if test="fake != null" >
        #{fake,jdbcType=INTEGER},
      </if>
        <if test="allPrice != null" >
            #{all_price,jdbcType=DOUBLE},
        </if>
    </trim>
  </insert>
  <update id="updataByD" parameterType="java.util.List">
    update cartonOut
    <trim prefix="set" suffixOverrides=",">
      <trim prefix="consignee_num =case" suffix="end,">
        <foreach collection="list" item="item" index="index">
          <if test="item.consigneeNum!=null">
            when id=#{item.id} then #{item.consigneeNum}
          </if>
        </foreach>
      </trim>
      <trim prefix="isconsignee_num =case" suffix="end,">
      <foreach collection="list" item="item" index="index">
        <if test="item.isconsigneeNum!=null">
          when id=#{item.id} then #{item.isconsigneeNum}
        </if>
      </foreach>
    </trim>
    <trim prefix="isconsignee =case" suffix="end,">
      <foreach collection="list" item="item" index="index">
        <if test="item.isconsignee!=null">
          when id=#{item.id} then #{item.isconsignee}
        </if>
      </foreach>
    </trim>
    <trim prefix="minority_num =case" suffix="end,">
      <foreach collection="list" item="item" index="index">
        <if test="item.minorityNum!=null">
          when id=#{item.id} then #{item.minorityNum}
        </if>
      </foreach>
    </trim>
    <trim prefix="return_num =case" suffix="end,">
      <foreach collection="list" item="item" index="index">
        <if test="item.returnNum!=null">
          when id=#{item.id} then #{item.returnNum}
        </if>
      </foreach>
    </trim>
    </trim>
    where id in
    <foreach collection="list" item="item" index="index" separator="," open="(" close=")">
      #{item.id}
    </foreach>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.generator.pojo.Cartonout" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update cartonOut
    <set >
      <if test="deliveryNumber != null" >
        delivery_number = #{deliveryNumber,jdbcType=VARCHAR},
      </if>
      <if test="orderAccount != null" >
        order_account = #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="customCompany != null" >
        custom_company = #{customCompany,jdbcType=VARCHAR},
      </if>
      <if test="productName != null" >
        product_name = #{productName,jdbcType=VARCHAR},
      </if>
      <if test="materialName != null" >
        material_name = #{materialName,jdbcType=VARCHAR},
      </if>
      <if test="pitTypeName != null" >
        pit_type_name = #{pitTypeName,jdbcType=VARCHAR},
      </if>
      <if test="specifications != null" >
        specifications = #{specifications,jdbcType=VARCHAR},
      </if>
      <if test="orderNum != null" >
        order_num = #{orderNum,jdbcType=INTEGER},
      </if>
      <if test="outNum != null" >
        out_num = #{outNum,jdbcType=INTEGER},
      </if>
      <if test="outTime != null" >
        out_time = #{outTime,jdbcType=VARCHAR},
      </if>
      <if test="reservoir != null" >
        reservoir = #{reservoir,jdbcType=VARCHAR},
      </if>
      <if test="palletNumber != null" >
        pallet_number = #{palletNumber,jdbcType=INTEGER},
      </if>
      <if test="cartonPrice != null" >
        carton_price = #{cartonPrice,jdbcType=DOUBLE},
      </if>
      <if test="staffId != null" >
        staff_id = #{staffId,jdbcType=VARCHAR},
      </if>
      <if test="deliNum != null" >
        deli_num = #{deliNum,jdbcType=INTEGER},
      </if>
      <if test="consigneeNum != null" >
        consignee_num = #{consigneeNum,jdbcType=INTEGER},
      </if>
      <if test="isconsigneeNum != null" >
        isconsignee_num = #{isconsigneeNum,jdbcType=INTEGER},
      </if>
      <if test="isconsignee != null" >
        isconsignee = #{isconsignee,jdbcType=VARCHAR},
      </if>
      <if test="scrapNum != null" >
        scrap_num = #{scrapNum,jdbcType=INTEGER},
      </if>
      <if test="minorityNum != null" >
        minority_num = #{minorityNum,jdbcType=INTEGER},
      </if>
      <if test="returnNum != null" >
        return_num = #{returnNum,jdbcType=INTEGER},
      </if>
      <if test="fake != null" >
        fake = #{fake,jdbcType=INTEGER},
      </if>
        <if test="allPrice != null" >
          all_price = #{fake,jdbcType=DOUBLE}
        </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.generator.pojo.Cartonout" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update cartonOut
    set delivery_number = #{deliveryNumber,jdbcType=VARCHAR},
      order_account = #{orderAccount,jdbcType=VARCHAR},
      custom_company = #{customCompany,jdbcType=VARCHAR},
      product_name = #{productName,jdbcType=VARCHAR},
      material_name = #{materialName,jdbcType=VARCHAR},
      pit_type_name = #{pitTypeName,jdbcType=VARCHAR},
      specifications = #{specifications,jdbcType=VARCHAR},
      order_num = #{orderNum,jdbcType=INTEGER},
      out_num = #{outNum,jdbcType=INTEGER},
      out_time = #{outTime,jdbcType=VARCHAR},
      reservoir = #{reservoir,jdbcType=VARCHAR},
      pallet_number = #{palletNumber,jdbcType=INTEGER},
      carton_price = #{cartonPrice,jdbcType=DOUBLE},
      staff_id = #{staffId,jdbcType=VARCHAR},
      deli_num = #{deliNum,jdbcType=INTEGER},
      consignee_num = #{consigneeNum,jdbcType=INTEGER},
      isconsignee_num = #{isconsigneeNum,jdbcType=INTEGER},
      isconsignee = #{isconsignee,jdbcType=VARCHAR},
      scrap_num = #{scrapNum,jdbcType=INTEGER},
      minority_num = #{minorityNum,jdbcType=INTEGER},
      return_num = #{returnNum,jdbcType=INTEGER},
      fake = #{fake,jdbcType=INTEGER},
      all_price = #{allPrice,jdbcType=DOUBLE}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>