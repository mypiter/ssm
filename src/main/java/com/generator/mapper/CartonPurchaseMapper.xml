<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.generator.mapper.CartonPurchaseMapper">
  <resultMap id="BaseResultMap" type="com.generator.pojo.CartonPurchase">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="purchase_id" jdbcType="INTEGER" property="purchaseId" />
    <result column="purchase_account" jdbcType="VARCHAR" property="purchaseAccount" />
    <result column="order_account" jdbcType="VARCHAR" property="orderAccount" />
    <result column="supplier_name" jdbcType="VARCHAR" property="supplierName" />
    <result column="supplier_id" jdbcType="INTEGER" property="supplierId" />
    <result column="single_square" jdbcType="VARCHAR" property="singleSquare" />
    <result column="total_square" jdbcType="VARCHAR" property="totalSquare" />
    <result column="square_price" jdbcType="DOUBLE" property="squarePrice" />
    <result column="single_price" jdbcType="DOUBLE" property="singlePrice" />
    <result column="single_total" jdbcType="DOUBLE" property="singleTotal" />
    <result column="total" jdbcType="DOUBLE" property="total" />
    <result column="blanking_size" jdbcType="VARCHAR" property="blankingSize" />
    <result column="supper_spec" jdbcType="VARCHAR" property="supperSpec" />
    <result column="cardboard_spec" jdbcType="VARCHAR" property="cardboardSpec" />
    <result column="pit_type" jdbcType="VARCHAR" property="pitType" />
    <result column="width_line" jdbcType="VARCHAR" property="widthLine" />
    <result column="line_type" jdbcType="VARCHAR" property="lineType" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="stock_num" jdbcType="INTEGER" property="stockNum" />
    <result column="num" jdbcType="INTEGER" property="num" />
    <result column="time" jdbcType="VARCHAR" property="time" />
    <result column="arrival_time" jdbcType="VARCHAR" property="arrivalTime" />
    <result column="end_num" jdbcType="INTEGER" property="endNum" />
    <result column="consignee" jdbcType="VARCHAR" property="consignee" />
    <result column="consignee_tel" jdbcType="VARCHAR" property="consigneeTel" />
    <result column="consignee_adress" jdbcType="VARCHAR" property="consigneeAdress" />
    <result column="purchase_name" jdbcType="VARCHAR" property="purchaseName" />
    <result column="order_requirement" jdbcType="VARCHAR" property="orderRequirement" />
    <result column="pur_requirement" jdbcType="VARCHAR" property="purRequirement" />
    <result column="is_ticket" jdbcType="INTEGER" property="isTicket" />
    <result column="fake" jdbcType="INTEGER" property="fake" />
    <result column="tai_id" jdbcType="INTEGER" property="taiId" />
    <result column="tai_name" jdbcType="VARCHAR" property="taiName" />
    <result column="caigou_url" jdbcType="VARCHAR" property="caigouUrl" />
    <result column="caigou_name" jdbcType="VARCHAR" property="caigouName" />
    <result column="custom_name" jdbcType="VARCHAR" property="customName" />
    <result column="carton_name" jdbcType="VARCHAR" property="cartonName" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    purchase_id, purchase_account, order_account, supplier_name, supplier_id, single_square, 
    total_square, square_price, single_price, single_total, total, blanking_size, supper_spec, 
    cardboard_spec, pit_type, width_line, line_type, unit, stock_num, num, time, arrival_time, 
    end_num, consignee, consignee_tel, consignee_adress, purchase_name, order_requirement, 
    pur_requirement, is_ticket, fake, tai_id, tai_name, caigou_url, caigou_name, custom_name, 
    carton_name
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from carton_purchase
    where purchase_id = #{purchaseId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from carton_purchase
    where purchase_id = #{purchaseId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.generator.pojo.CartonPurchase">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into carton_purchase (purchase_id, purchase_account, order_account, 
      supplier_name, supplier_id, single_square, 
      total_square, square_price, single_price, 
      single_total, total, blanking_size, 
      supper_spec, cardboard_spec, pit_type, 
      width_line, line_type, unit, 
      stock_num, num, time, 
      arrival_time, end_num, consignee, 
      consignee_tel, consignee_adress, purchase_name, 
      order_requirement, pur_requirement, is_ticket, 
      fake, tai_id, tai_name, 
      caigou_url, caigou_name, custom_name, 
      carton_name)
    values (#{purchaseId,jdbcType=INTEGER}, #{purchaseAccount,jdbcType=VARCHAR}, #{orderAccount,jdbcType=VARCHAR}, 
      #{supplierName,jdbcType=VARCHAR}, #{supplierId,jdbcType=INTEGER}, #{singleSquare,jdbcType=VARCHAR}, 
      #{totalSquare,jdbcType=VARCHAR}, #{squarePrice,jdbcType=DOUBLE}, #{singlePrice,jdbcType=DOUBLE}, 
      #{singleTotal,jdbcType=DOUBLE}, #{total,jdbcType=DOUBLE}, #{blankingSize,jdbcType=VARCHAR}, 
      #{supperSpec,jdbcType=VARCHAR}, #{cardboardSpec,jdbcType=VARCHAR}, #{pitType,jdbcType=VARCHAR}, 
      #{widthLine,jdbcType=VARCHAR}, #{lineType,jdbcType=VARCHAR}, #{unit,jdbcType=VARCHAR}, 
      #{stockNum,jdbcType=INTEGER}, #{num,jdbcType=INTEGER}, #{time,jdbcType=VARCHAR}, 
      #{arrivalTime,jdbcType=VARCHAR}, #{endNum,jdbcType=INTEGER}, #{consignee,jdbcType=VARCHAR}, 
      #{consigneeTel,jdbcType=VARCHAR}, #{consigneeAdress,jdbcType=VARCHAR}, #{purchaseName,jdbcType=VARCHAR}, 
      #{orderRequirement,jdbcType=VARCHAR}, #{purRequirement,jdbcType=VARCHAR}, #{isTicket,jdbcType=INTEGER}, 
      #{fake,jdbcType=INTEGER}, #{taiId,jdbcType=INTEGER}, #{taiName,jdbcType=VARCHAR}, 
      #{caigouUrl,jdbcType=VARCHAR}, #{caigouName,jdbcType=VARCHAR}, #{customName,jdbcType=VARCHAR}, 
      #{cartonName,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.generator.pojo.CartonPurchase">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into carton_purchase
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="purchaseId != null">
        purchase_id,
      </if>
      <if test="purchaseAccount != null">
        purchase_account,
      </if>
      <if test="orderAccount != null">
        order_account,
      </if>
      <if test="supplierName != null">
        supplier_name,
      </if>
      <if test="supplierId != null">
        supplier_id,
      </if>
      <if test="singleSquare != null">
        single_square,
      </if>
      <if test="totalSquare != null">
        total_square,
      </if>
      <if test="squarePrice != null">
        square_price,
      </if>
      <if test="singlePrice != null">
        single_price,
      </if>
      <if test="singleTotal != null">
        single_total,
      </if>
      <if test="total != null">
        total,
      </if>
      <if test="blankingSize != null">
        blanking_size,
      </if>
      <if test="supperSpec != null">
        supper_spec,
      </if>
      <if test="cardboardSpec != null">
        cardboard_spec,
      </if>
      <if test="pitType != null">
        pit_type,
      </if>
      <if test="widthLine != null">
        width_line,
      </if>
      <if test="lineType != null">
        line_type,
      </if>
      <if test="unit != null">
        unit,
      </if>
      <if test="stockNum != null">
        stock_num,
      </if>
      <if test="num != null">
        num,
      </if>
      <if test="time != null">
        time,
      </if>
      <if test="arrivalTime != null">
        arrival_time,
      </if>
      <if test="endNum != null">
        end_num,
      </if>
      <if test="consignee != null">
        consignee,
      </if>
      <if test="consigneeTel != null">
        consignee_tel,
      </if>
      <if test="consigneeAdress != null">
        consignee_adress,
      </if>
      <if test="purchaseName != null">
        purchase_name,
      </if>
      <if test="orderRequirement != null">
        order_requirement,
      </if>
      <if test="purRequirement != null">
        pur_requirement,
      </if>
      <if test="isTicket != null">
        is_ticket,
      </if>
      <if test="fake != null">
        fake,
      </if>
      <if test="taiId != null">
        tai_id,
      </if>
      <if test="taiName != null">
        tai_name,
      </if>
      <if test="caigouUrl != null">
        caigou_url,
      </if>
      <if test="caigouName != null">
        caigou_name,
      </if>
      <if test="customName != null">
        custom_name,
      </if>
      <if test="cartonName != null">
        carton_name,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="purchaseId != null">
        #{purchaseId,jdbcType=INTEGER},
      </if>
      <if test="purchaseAccount != null">
        #{purchaseAccount,jdbcType=VARCHAR},
      </if>
      <if test="orderAccount != null">
        #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="supplierName != null">
        #{supplierName,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null">
        #{supplierId,jdbcType=INTEGER},
      </if>
      <if test="singleSquare != null">
        #{singleSquare,jdbcType=VARCHAR},
      </if>
      <if test="totalSquare != null">
        #{totalSquare,jdbcType=VARCHAR},
      </if>
      <if test="squarePrice != null">
        #{squarePrice,jdbcType=DOUBLE},
      </if>
      <if test="singlePrice != null">
        #{singlePrice,jdbcType=DOUBLE},
      </if>
      <if test="singleTotal != null">
        #{singleTotal,jdbcType=DOUBLE},
      </if>
      <if test="total != null">
        #{total,jdbcType=DOUBLE},
      </if>
      <if test="blankingSize != null">
        #{blankingSize,jdbcType=VARCHAR},
      </if>
      <if test="supperSpec != null">
        #{supperSpec,jdbcType=VARCHAR},
      </if>
      <if test="cardboardSpec != null">
        #{cardboardSpec,jdbcType=VARCHAR},
      </if>
      <if test="pitType != null">
        #{pitType,jdbcType=VARCHAR},
      </if>
      <if test="widthLine != null">
        #{widthLine,jdbcType=VARCHAR},
      </if>
      <if test="lineType != null">
        #{lineType,jdbcType=VARCHAR},
      </if>
      <if test="unit != null">
        #{unit,jdbcType=VARCHAR},
      </if>
      <if test="stockNum != null">
        #{stockNum,jdbcType=INTEGER},
      </if>
      <if test="num != null">
        #{num,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        #{time,jdbcType=VARCHAR},
      </if>
      <if test="arrivalTime != null">
        #{arrivalTime,jdbcType=VARCHAR},
      </if>
      <if test="endNum != null">
        #{endNum,jdbcType=INTEGER},
      </if>
      <if test="consignee != null">
        #{consignee,jdbcType=VARCHAR},
      </if>
      <if test="consigneeTel != null">
        #{consigneeTel,jdbcType=VARCHAR},
      </if>
      <if test="consigneeAdress != null">
        #{consigneeAdress,jdbcType=VARCHAR},
      </if>
      <if test="purchaseName != null">
        #{purchaseName,jdbcType=VARCHAR},
      </if>
      <if test="orderRequirement != null">
        #{orderRequirement,jdbcType=VARCHAR},
      </if>
      <if test="purRequirement != null">
        #{purRequirement,jdbcType=VARCHAR},
      </if>
      <if test="isTicket != null">
        #{isTicket,jdbcType=INTEGER},
      </if>
      <if test="fake != null">
        #{fake,jdbcType=INTEGER},
      </if>
      <if test="taiId != null">
        #{taiId,jdbcType=INTEGER},
      </if>
      <if test="taiName != null">
        #{taiName,jdbcType=VARCHAR},
      </if>
      <if test="caigouUrl != null">
        #{caigouUrl,jdbcType=VARCHAR},
      </if>
      <if test="caigouName != null">
        #{caigouName,jdbcType=VARCHAR},
      </if>
      <if test="customName != null">
        #{customName,jdbcType=VARCHAR},
      </if>
      <if test="cartonName != null">
        #{cartonName,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.generator.pojo.CartonPurchase">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update carton_purchase
    <set>
      <if test="purchaseAccount != null">
        purchase_account = #{purchaseAccount,jdbcType=VARCHAR},
      </if>
      <if test="orderAccount != null">
        order_account = #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="supplierName != null">
        supplier_name = #{supplierName,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null">
        supplier_id = #{supplierId,jdbcType=INTEGER},
      </if>
      <if test="singleSquare != null">
        single_square = #{singleSquare,jdbcType=VARCHAR},
      </if>
      <if test="totalSquare != null">
        total_square = #{totalSquare,jdbcType=VARCHAR},
      </if>
      <if test="squarePrice != null">
        square_price = #{squarePrice,jdbcType=DOUBLE},
      </if>
      <if test="singlePrice != null">
        single_price = #{singlePrice,jdbcType=DOUBLE},
      </if>
      <if test="singleTotal != null">
        single_total = #{singleTotal,jdbcType=DOUBLE},
      </if>
      <if test="total != null">
        total = #{total,jdbcType=DOUBLE},
      </if>
      <if test="blankingSize != null">
        blanking_size = #{blankingSize,jdbcType=VARCHAR},
      </if>
      <if test="supperSpec != null">
        supper_spec = #{supperSpec,jdbcType=VARCHAR},
      </if>
      <if test="cardboardSpec != null">
        cardboard_spec = #{cardboardSpec,jdbcType=VARCHAR},
      </if>
      <if test="pitType != null">
        pit_type = #{pitType,jdbcType=VARCHAR},
      </if>
      <if test="widthLine != null">
        width_line = #{widthLine,jdbcType=VARCHAR},
      </if>
      <if test="lineType != null">
        line_type = #{lineType,jdbcType=VARCHAR},
      </if>
      <if test="unit != null">
        unit = #{unit,jdbcType=VARCHAR},
      </if>
      <if test="stockNum != null">
        stock_num = #{stockNum,jdbcType=INTEGER},
      </if>
      <if test="num != null">
        num = #{num,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        time = #{time,jdbcType=VARCHAR},
      </if>
      <if test="arrivalTime != null">
        arrival_time = #{arrivalTime,jdbcType=VARCHAR},
      </if>
      <if test="endNum != null">
        end_num = #{endNum,jdbcType=INTEGER},
      </if>
      <if test="consignee != null">
        consignee = #{consignee,jdbcType=VARCHAR},
      </if>
      <if test="consigneeTel != null">
        consignee_tel = #{consigneeTel,jdbcType=VARCHAR},
      </if>
      <if test="consigneeAdress != null">
        consignee_adress = #{consigneeAdress,jdbcType=VARCHAR},
      </if>
      <if test="purchaseName != null">
        purchase_name = #{purchaseName,jdbcType=VARCHAR},
      </if>
      <if test="orderRequirement != null">
        order_requirement = #{orderRequirement,jdbcType=VARCHAR},
      </if>
      <if test="purRequirement != null">
        pur_requirement = #{purRequirement,jdbcType=VARCHAR},
      </if>
      <if test="isTicket != null">
        is_ticket = #{isTicket,jdbcType=INTEGER},
      </if>
      <if test="fake != null">
        fake = #{fake,jdbcType=INTEGER},
      </if>
      <if test="taiId != null">
        tai_id = #{taiId,jdbcType=INTEGER},
      </if>
      <if test="taiName != null">
        tai_name = #{taiName,jdbcType=VARCHAR},
      </if>
      <if test="caigouUrl != null">
        caigou_url = #{caigouUrl,jdbcType=VARCHAR},
      </if>
      <if test="caigouName != null">
        caigou_name = #{caigouName,jdbcType=VARCHAR},
      </if>
      <if test="customName != null">
        custom_name = #{customName,jdbcType=VARCHAR},
      </if>
      <if test="cartonName != null">
        carton_name = #{cartonName,jdbcType=VARCHAR},
      </if>
    </set>
    where purchase_id = #{purchaseId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.generator.pojo.CartonPurchase">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update carton_purchase
    set purchase_account = #{purchaseAccount,jdbcType=VARCHAR},
      order_account = #{orderAccount,jdbcType=VARCHAR},
      supplier_name = #{supplierName,jdbcType=VARCHAR},
      supplier_id = #{supplierId,jdbcType=INTEGER},
      single_square = #{singleSquare,jdbcType=VARCHAR},
      total_square = #{totalSquare,jdbcType=VARCHAR},
      square_price = #{squarePrice,jdbcType=DOUBLE},
      single_price = #{singlePrice,jdbcType=DOUBLE},
      single_total = #{singleTotal,jdbcType=DOUBLE},
      total = #{total,jdbcType=DOUBLE},
      blanking_size = #{blankingSize,jdbcType=VARCHAR},
      supper_spec = #{supperSpec,jdbcType=VARCHAR},
      cardboard_spec = #{cardboardSpec,jdbcType=VARCHAR},
      pit_type = #{pitType,jdbcType=VARCHAR},
      width_line = #{widthLine,jdbcType=VARCHAR},
      line_type = #{lineType,jdbcType=VARCHAR},
      unit = #{unit,jdbcType=VARCHAR},
      stock_num = #{stockNum,jdbcType=INTEGER},
      num = #{num,jdbcType=INTEGER},
      time = #{time,jdbcType=VARCHAR},
      arrival_time = #{arrivalTime,jdbcType=VARCHAR},
      end_num = #{endNum,jdbcType=INTEGER},
      consignee = #{consignee,jdbcType=VARCHAR},
      consignee_tel = #{consigneeTel,jdbcType=VARCHAR},
      consignee_adress = #{consigneeAdress,jdbcType=VARCHAR},
      purchase_name = #{purchaseName,jdbcType=VARCHAR},
      order_requirement = #{orderRequirement,jdbcType=VARCHAR},
      pur_requirement = #{purRequirement,jdbcType=VARCHAR},
      is_ticket = #{isTicket,jdbcType=INTEGER},
      fake = #{fake,jdbcType=INTEGER},
      tai_id = #{taiId,jdbcType=INTEGER},
      tai_name = #{taiName,jdbcType=VARCHAR},
      caigou_url = #{caigouUrl,jdbcType=VARCHAR},
      caigou_name = #{caigouName,jdbcType=VARCHAR},
      custom_name = #{customName,jdbcType=VARCHAR},
      carton_name = #{cartonName,jdbcType=VARCHAR}
    where purchase_id = #{purchaseId,jdbcType=INTEGER}
  </update>
  <select id="findByEnter" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="tys!=null and tys!=''">
        <if test="tys==1">
          <if test="purchaseAccount != null and purchaseAccount != ''">
            and purchase_account=#{purchaseAccount}
          </if>
        </if>
        <if test="tys==2">
          <if test="purchaseAccount != null and purchaseAccount != ''">
            and supplier_name=#{purchaseAccount} and end_num&lt;num and fake=0
          </if>
        </if>
      </if>
        <if test="supplier!=0">
            and supplier_id=#{supplier}
        </if>
      <if test="purchaseAccount==null or purchaseAccount==''">
        and end_num&lt;num and fake=0
      </if>
    </where>
    order by purchase_id desc limit #{cur},#{limit}
  </select>
  <select id="findByEnterAll" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="tys!=null and tys!=''">
        <if test="tys==1">
          <if test="purchaseAccount != null and purchaseAccount != ''">
            and purchase_account=#{purchaseAccount}
          </if>
        </if>
        <if test="tys==2">
          <if test="purchaseAccount != null and purchaseAccount != ''">
            and supplier_name=#{purchaseAccount} and end_num&lt;num and fake=0
          </if>
        </if>
      </if>
        <if test="supplier!=0">
            and supplier_id=#{supplier}
        </if>
      <if test="purchaseAccount==null or purchaseAccount==''">
        and end_num&lt;num and fake=0
      </if>
    </where>
    order by purchase_id desc
  </select>
  <select id="dropSelectPurchase" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="q != null and q !=''">
        and purchase_account like "%"#{q}"%" and fake&lt;&gt;1
      </if>
      <if test="q==null or q == ''">
        and end_num&lt;num and fake=0
      </if>
    </where>
    group by purchase_account
  </select>
  <update id="updateByEndNum">
    update carton_purchase
    set end_num = end_num+#{num}
    where purchase_account=#{orderAccount} and order_account=#{orderId} and fake=0;
  </update>
  <update id="updateByEndNums" parameterType="java.util.List">
    update carton_purchase
    set end_num = end_num +
    <foreach close="end" collection="list" item="item" open="case purchase_id" separator=" ">
      when #{item.purchaseId} then #{item.endNum}
    </foreach>
    where purchase_id in
    <foreach close=")" collection="list" item="item" open="(" separator=",">
      #{item.purchaseId}
    </foreach>
  </update>
  <select id="findByOrderAccount" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    where order_account=#{orderAccount} and fake=0
  </select>
  <select id="findByPurOrder" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="list!=null">
        <foreach collection="list" item="item" separator=",">
          <choose>
            <when test="item.field=='purchaseId'">
              and purchase_id
            </when>
            <when test="item.field=='purchaseAccount'">
              and purchase_account
            </when>
            <when test="item.field=='orderAccount'">
              and order_account
            </when>
            <when test="item.field=='customName'">
              and custom_name
            </when>
            <when test="item.field=='cartonName'">
              and carton_name
            </when>
            <when test="item.field=='supplierName'">
              and supplier_name
            </when>
            <when test="item.field=='singlePrice'">
              and single_price
            </when>
            <when test="item.field=='time'">
              and time
            </when>
            <when test="item.field=='arrivalTime'">
              and arrival_time
            </when>
            <when test="item.field=='num'">
              and num
            </when>
            <when test="item.field=='endNum'">
              and end_num
            </when>
            <when test="item.field=='consignee'">
              and consignee
            </when>
            <when test="item.field=='cardboardSpec'">
              and cardboard_spec
            </when>
            <when test="item.field=='pitType'">
              and pit_type
            </when>
            <when test="item.field=='blankingSize'">
              and blanking_size
            </when>
            <when test="item.field=='widthLine'">
              and width_line
            </when>
            <when test="item.field=='lineType'">
              and line_type
            </when>
          </choose>
          <choose>
            <when test="item.op=='contains'">
              like "%"#{item.value}"%"
            </when>
            <when test="item.op=='equal'">
              =#{item.value}
            </when>
            <when test="item.op=='notequal'">
              &lt;&gt;#{item.value}
            </when>
            <when test="item.op=='greater'">
              &gt;#{item.value}
            </when>
            <when test="item.op=='greaterorequal'">
              &gt;=#{item.value}
            </when>
            <when test="item.op=='less'">
              &lt;#{item.value}
            </when>
            <when test="item.op=='lessorequal'">
              &lt;=#{item.value}
            </when>
            <when test="item.op=='beginwith'">
              like #{item.value}"%"
            </when>
            <when test="item.op=='endwith'">
              like "%"#{item.value}
            </when>
          </choose>
        </foreach>
      </if>
      <if test="startTime!=null and startTime!=''">
        and time&gt;=#{startTime}
      </if>
      <if test="endTime!=null and endTime!=''">
        and time&lt;=#{endTime}
      </if>
      and fake=0
    </where>
    order by
    <if test="sort==null or sort==''">
      purchase_id desc
    </if>
    <if test="sort!=null and sort!=''">
      <choose>
        <when test="sort=='purchaseAccount'">
          purchase_account
        </when>
        <when test="sort=='orderAccount'">
          order_account
        </when>
        <when test="sort=='singlePrice'">
          single_price
        </when>
        <when test="sort=='time'">
          time
        </when>
        <when test="sort=='arrivalTime'">
          arrival_time
        </when>
        <when test="sort=='num'">
          num
        </when>
        <when test="sort=='endNum'">
          end_num
        </when>
        <when test="sort=='blankingSize'">
          blanking_size
        </when>
        <when test="sort=='lineType'">
          line_type
        </when>
      </choose>
      <choose>
        <when test="order=='ase'">
          asc
        </when>
        <when test="order=='desc'">
          desc
        </when>
      </choose>
    </if>
    limit #{cur},#{rows}
  </select>
  <select id="findByPurOrderAll" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="list!=null">
        <foreach collection="list" item="item" separator=",">
          <choose>
            <when test="item.field=='purchaseId'">
              and purchase_id
            </when>
            <when test="item.field=='purchaseAccount'">
              and purchase_account
            </when>
            <when test="item.field=='orderAccount'">
              and order_account
            </when>
            <when test="item.field=='customName'">
              and custom_name
            </when>
            <when test="item.field=='cartonName'">
              and carton_name
            </when>
            <when test="item.field=='supplierName'">
              and supplier_name
            </when>
            <when test="item.field=='singlePrice'">
              and single_price
            </when>
            <when test="item.field=='time'">
              and time
            </when>
            <when test="item.field=='arrivalTime'">
              and arrival_time
            </when>
            <when test="item.field=='num'">
              and num
            </when>
            <when test="item.field=='endNum'">
              and end_num
            </when>
            <when test="item.field=='consignee'">
              and consignee
            </when>
            <when test="item.field=='cardboardSpec'">
              and cardboard_spec
            </when>
            <when test="item.field=='pitType'">
              and pit_type
            </when>
            <when test="item.field=='blankingSize'">
              and blanking_size
            </when>
            <when test="item.field=='widthLine'">
              and width_line
            </when>
            <when test="item.field=='lineType'">
              and line_type
            </when>
          </choose>
          <choose>
            <when test="item.op=='contains'">
              like "%"#{item.value}"%"
            </when>
            <when test="item.op=='equal'">
              =#{item.value}
            </when>
            <when test="item.op=='notequal'">
              &lt;&gt;#{item.value}
            </when>
            <when test="item.op=='greater'">
              &gt;#{item.value}
            </when>
            <when test="item.op=='greaterorequal'">
              &gt;=#{item.value}
            </when>
            <when test="item.op=='less'">
              &lt;#{item.value}
            </when>
            <when test="item.op=='lessorequal'">
              &lt;=#{item.value}
            </when>
            <when test="item.op=='beginwith'">
              like #{item.value}"%"
            </when>
            <when test="item.op=='endwith'">
              like "%"#{item.value}
            </when>
          </choose>
        </foreach>
      </if>
      <if test="startTime!=null and startTime!=''">
        and time&gt;=#{startTime}
      </if>
      <if test="endTime!=null and endTime!=''">
        and time&lt;=#{endTime}
      </if>
      and fake=0
    </where>
  </select>
  <select id="findByPurAccount" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="purchaseAccount!=null and purchaseAccount!=''">
        and purchase_account=#{purchaseAccount}
      </if>
      and fake=0
    </where>
  </select>
  <update id="updateByfakeS">
    update carton_purchase
    set fake=1
    where purchase_id in
    <foreach close=")" collection="list" item="item" open="(" separator=",">
      #{item.purchaseId}
    </foreach>
  </update>
  <select id="findBySuppPurOrder" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="supplier!=null and supplier!=''">
        and supplier_id=#{supplier}
      </if>
      and fake=0
    </where>
    limit #{cur},#{limit}
  </select>
  <select id="findBySuppPurOrderAll" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    <where>
      <if test="supplier!=null and supplier!=''">
        and supplier_id=#{supplier}
      </if>
      and fake=0
    </where>
  </select>
  <select id="getMaxPurOrder" resultType="com.generator.pojo.CartonPurchase">
    select
    purchase_account
    from carton_purchase
    where fake=0 and purchase_id=(select max(purchase_id) from carton_purchase where fake=0 and purchase_account like #{time1}"%")
  </select>
  <update id="updateByPurid">
    update carton_purchase
    <set>
      <if test="type==1">
        fake=2
      </if>
      <if test="type==2">
        fake=0
      </if>
    </set>
    where purchase_id=#{purchaseId}
  </update>
  <select id="dropSupper" resultType="com.generator.pojo.CartonPurchase">
    select supplier_name,supplier_id
    from carton_purchase
    <where>
      <if test="q != null and q !=''">
        and supplier_name like "%"#{q}"%" and fake&lt;&gt;1
      </if>
      <if test="q==null or q == ''">
        and end_num&lt;num and fake=0
      </if>
    </where>
    group by supplier_name
  </select>
  <select id="findByPurOderAccount" resultType="com.generator.pojo.CartonPurchase">
    select
    <include refid="Base_Column_List" />
    from carton_purchase
    where purchase_account=#{purchaseAccount} and order_account=#{orderAccount}
  </select>
</mapper>