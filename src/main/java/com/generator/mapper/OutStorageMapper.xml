<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.generator.mapper.OutStorageMapper">
  <resultMap id="BaseResultMap" type="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="pur_id" jdbcType="INTEGER" property="purId" />
    <result column="order_account" jdbcType="VARCHAR" property="orderAccount" />
    <result column="custom_name" jdbcType="VARCHAR" property="customName" />
    <result column="carton_name" jdbcType="VARCHAR" property="cartonName" />
    <result column="pur_number" jdbcType="VARCHAR" property="purNumber" />
    <result column="order_number" jdbcType="INTEGER" property="orderNumber" />
    <result column="material_science" jdbcType="VARCHAR" property="materialScience" />
    <result column="cardboard_length" jdbcType="DOUBLE" property="cardboardLength" />
    <result column="cardboard_width" jdbcType="DOUBLE" property="cardboardWidth" />
    <result column="pit_type" jdbcType="VARCHAR" property="pitType" />
    <result column="width_line" jdbcType="VARCHAR" property="widthLine" />
    <result column="num" jdbcType="INTEGER" property="num" />
    <result column="collection_quantity" jdbcType="INTEGER" property="collectionQuantity" />
    <result column="time" jdbcType="VARCHAR" property="time" />
    <result column="admin_name" jdbcType="VARCHAR" property="adminName" />
    <result column="line_type" jdbcType="INTEGER" property="lineType" />
    <result column="leader" jdbcType="VARCHAR" property="leader" />
    <result column="fake" jdbcType="INTEGER" property="fake" />
    <result column="cprk" jdbcType="INTEGER" property="cprk" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    pur_id, order_account, custom_name, carton_name, pur_number, order_number, material_science, 
    cardboard_length, cardboard_width, pit_type, width_line, num, collection_quantity, 
    time, admin_name, line_type, leader, fake, cprk
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from out_storage
    where pur_id = #{purId,jdbcType=INTEGER}
  </select>
  <select id="select" parameterType="java.lang.Integer" resultType="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from out_storage
    <where>
      <if test="orderAccount!=null and orderAccount!=''">
        and order_account = #{orderAccount}
      </if>
      <if test="purchaseSpec!=null and purchaseSpec!=''">
        and material_science=#{purchaseSpec}
      </if>
      <if test="fluteType!=null and fluteType!=''">
        and pit_type=#{fluteType}
      </if>
      <if test="chang!=null and chang!=''">
        and cardboard_length=#{chang}
      </if>
      <if test="k!=null and k!=''">
        and cardboard_width=#{k}
      </if>
      <if test="minNum!=null and minNum!=''">
        and num&gt;=#{minNum}
      </if>
      <if test="maxNum!=null and maxNum!=''">
        and num&lt;=#{maxNum}
      </if>
      and fake=0 and num>0
    </where>
     order by pur_id desc limit #{cur},#{limit}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from out_storage
    where pur_id = #{purId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into out_storage (pur_id, order_account, custom_name, 
      carton_name, pur_number, order_number, 
      material_science, cardboard_length, cardboard_width, 
      pit_type, width_line, num, 
      collection_quantity, time, admin_name, 
      line_type, leader, fake, 
      cprk)
    values (#{purId,jdbcType=INTEGER}, #{orderAccount,jdbcType=VARCHAR}, #{customName,jdbcType=VARCHAR}, 
      #{cartonName,jdbcType=VARCHAR}, #{purNumber,jdbcType=VARCHAR}, #{orderNumber,jdbcType=INTEGER}, 
      #{materialScience,jdbcType=VARCHAR}, #{cardboardLength,jdbcType=DOUBLE}, #{cardboardWidth,jdbcType=DOUBLE}, 
      #{pitType,jdbcType=VARCHAR}, #{widthLine,jdbcType=VARCHAR}, #{num,jdbcType=INTEGER}, 
      #{collectionQuantity,jdbcType=INTEGER}, #{time,jdbcType=VARCHAR}, #{adminName,jdbcType=VARCHAR}, 
      #{lineType,jdbcType=INTEGER}, #{leader,jdbcType=VARCHAR}, #{fake,jdbcType=INTEGER}, 
      #{cprk,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into out_storage
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="purId != null">
        pur_id,
      </if>
      <if test="orderAccount != null">
        order_account,
      </if>
      <if test="customName != null">
        custom_name,
      </if>
      <if test="cartonName != null">
        carton_name,
      </if>
      <if test="purNumber != null">
        pur_number,
      </if>
      <if test="orderNumber != null">
        order_number,
      </if>
      <if test="materialScience != null">
        material_science,
      </if>
      <if test="cardboardLength != null">
        cardboard_length,
      </if>
      <if test="cardboardWidth != null">
        cardboard_width,
      </if>
      <if test="pitType != null">
        pit_type,
      </if>
      <if test="widthLine != null">
        width_line,
      </if>
      <if test="num != null">
        num,
      </if>
      <if test="collectionQuantity != null">
        collection_quantity,
      </if>
      <if test="time != null">
        time,
      </if>
      <if test="adminName != null">
        admin_name,
      </if>
      <if test="lineType != null">
        line_type,
      </if>
      <if test="leader != null">
        leader,
      </if>
      <if test="fake != null">
        fake,
      </if>
      <if test="cprk != null">
        cprk,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="purId != null">
        #{purId,jdbcType=INTEGER},
      </if>
      <if test="orderAccount != null">
        #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="customName != null">
        #{customName,jdbcType=VARCHAR},
      </if>
      <if test="cartonName != null">
        #{cartonName,jdbcType=VARCHAR},
      </if>
      <if test="purNumber != null">
        #{purNumber,jdbcType=VARCHAR},
      </if>
      <if test="orderNumber != null">
        #{orderNumber,jdbcType=INTEGER},
      </if>
      <if test="materialScience != null">
        #{materialScience,jdbcType=VARCHAR},
      </if>
      <if test="cardboardLength != null">
        #{cardboardLength,jdbcType=DOUBLE},
      </if>
      <if test="cardboardWidth != null">
        #{cardboardWidth,jdbcType=DOUBLE},
      </if>
      <if test="pitType != null">
        #{pitType,jdbcType=VARCHAR},
      </if>
      <if test="widthLine != null">
        #{widthLine,jdbcType=VARCHAR},
      </if>
      <if test="num != null">
        #{num,jdbcType=INTEGER},
      </if>
      <if test="collectionQuantity != null">
        #{collectionQuantity,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        #{time,jdbcType=VARCHAR},
      </if>
      <if test="adminName != null">
        #{adminName,jdbcType=VARCHAR},
      </if>
      <if test="lineType != null">
        #{lineType,jdbcType=INTEGER},
      </if>
      <if test="leader != null">
        #{leader,jdbcType=VARCHAR},
      </if>
      <if test="fake != null">
        #{fake,jdbcType=INTEGER},
      </if>
      <if test="cprk != null">
        #{cprk,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update out_storage
    <set>
      <if test="orderAccount != null">
        order_account = #{orderAccount,jdbcType=VARCHAR},
      </if>
      <if test="customName != null">
        custom_name = #{customName,jdbcType=VARCHAR},
      </if>
      <if test="cartonName != null">
        carton_name = #{cartonName,jdbcType=VARCHAR},
      </if>
      <if test="purNumber != null">
        pur_number = #{purNumber,jdbcType=VARCHAR},
      </if>
      <if test="orderNumber != null">
        order_number = #{orderNumber,jdbcType=INTEGER},
      </if>
      <if test="materialScience != null">
        material_science = #{materialScience,jdbcType=VARCHAR},
      </if>
      <if test="cardboardLength != null">
        cardboard_length = #{cardboardLength,jdbcType=DOUBLE},
      </if>
      <if test="cardboardWidth != null">
        cardboard_width = #{cardboardWidth,jdbcType=DOUBLE},
      </if>
      <if test="pitType != null">
        pit_type = #{pitType,jdbcType=VARCHAR},
      </if>
      <if test="widthLine != null">
        width_line = #{widthLine,jdbcType=VARCHAR},
      </if>
      <if test="num != null">
        num = #{num,jdbcType=INTEGER},
      </if>
      <if test="collectionQuantity != null">
        collection_quantity = #{collectionQuantity,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        time = #{time,jdbcType=VARCHAR},
      </if>
      <if test="adminName != null">
        admin_name = #{adminName,jdbcType=VARCHAR},
      </if>
      <if test="lineType != null">
        line_type = #{lineType,jdbcType=INTEGER},
      </if>
      <if test="leader != null">
        leader = #{leader,jdbcType=VARCHAR},
      </if>
      <if test="fake != null">
        fake = #{fake,jdbcType=INTEGER},
      </if>
      <if test="cprk != null">
        cprk = #{cprk,jdbcType=INTEGER},
      </if>
    </set>
    where pur_id = #{purId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.generator.pojo.OutStorage">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update out_storage
    set order_account = #{orderAccount,jdbcType=VARCHAR},
      custom_name = #{customName,jdbcType=VARCHAR},
      carton_name = #{cartonName,jdbcType=VARCHAR},
      pur_number = #{purNumber,jdbcType=VARCHAR},
      order_number = #{orderNumber,jdbcType=INTEGER},
      material_science = #{materialScience,jdbcType=VARCHAR},
      cardboard_length = #{cardboardLength,jdbcType=DOUBLE},
      cardboard_width = #{cardboardWidth,jdbcType=DOUBLE},
      pit_type = #{pitType,jdbcType=VARCHAR},
      width_line = #{widthLine,jdbcType=VARCHAR},
      num = #{num,jdbcType=INTEGER},
      collection_quantity = #{collectionQuantity,jdbcType=INTEGER},
      time = #{time,jdbcType=VARCHAR},
      admin_name = #{adminName,jdbcType=VARCHAR},
      line_type = #{lineType,jdbcType=INTEGER},
      leader = #{leader,jdbcType=VARCHAR},
      fake = #{fake,jdbcType=INTEGER},
      cprk = #{cprk,jdbcType=INTEGER}
    where pur_id = #{purId,jdbcType=INTEGER}
  </update>
  <update id="updataOut" parameterType="java.lang.Integer">
    update out_storage set cprk=cprk+#{rk} where pur_id= #{purId,jdbcType=INTEGER}
  </update>
  <insert id="addOutStoragerS" parameterType="java.util.List">
    insert into out_storage (order_account, pur_number,custom_name,
      carton_name ,order_number, material_science, cardboard_length,
      cardboard_width, pit_type, width_line,
      num, collection_quantity, time,
      admin_name, line_type, leader,
      fake, cprk)
    values
    <foreach collection="list" item="item" separator=",">
      (#{item.orderAccount,jdbcType=VARCHAR}, #{item.purNumber,jdbcType=VARCHAR},#{item.customName,jdbcType=VARCHAR},#{item.cartonName,jdbcType=VARCHAR},
      #{item.orderNumber,jdbcType=INTEGER}, #{item.materialScience,jdbcType=VARCHAR}, #{item.cardboardLength,jdbcType=DOUBLE},
      #{item.cardboardWidth,jdbcType=DOUBLE}, #{item.pitType,jdbcType=VARCHAR}, #{item.widthLine,jdbcType=VARCHAR},
      #{item.num,jdbcType=INTEGER}, #{item.collectionQuantity,jdbcType=INTEGER}, #{item.time,jdbcType=VARCHAR},
      #{item.adminName,jdbcType=VARCHAR}, #{item.lineType,jdbcType=INTEGER}, #{item.leader,jdbcType=VARCHAR},
      #{item.fake,jdbcType=INTEGER}, #{item.cprk,jdbcType=INTEGER})
    </foreach>
  </insert>
  <select id="findByPurOut" resultType="com.generator.pojo.OutStorage">
    select
    <include refid="Base_Column_List" />
    from out_storage
    <where>
      <if test="list!=null">
        <foreach collection="list" item="item" separator=",">
          <choose>
            <when test="item.field=='purId'">
              and pur_id
            </when>
            <when test="item.field=='purNumber'">
              and pur_number
            </when>
            <when test="item.field=='orderAccount'">
              and order_account
            </when>
            <when test="item.field=='customName'">
              and custom_name
            </when>
            <when test="item.field=='cartonName'">
              and carton_name
            </when>
            <when test="item.field=='num'">
              and num
            </when>
            <when test="item.field=='time'">
              and time
            </when>
            <when test="item.field=='leader'">
              and leader
            </when>
            <when test="item.field=='adminName'">
              and admin_name
            </when>
            <when test="item.field=='materialScience'">
              and material_science
            </when>
            <when test="item.field=='pitType'">
              and pit_type
            </when>
            <when test="item.field=='cardboardLength'">
              and cardboard_length
            </when>
            <when test="item.field=='cardboardWidth'">
              and cardboard_width
            </when>
            <when test="item.field=='widthLine'">
              and width_line
            </when>
            <when test="item.field=='lineType'">
              and line_type
            </when>
          </choose>
          <choose>
            <when test="item.op=='contains'">
              like "%"#{item.value}"%"
            </when>
            <when test="item.op=='equal'">
              =#{item.value}
            </when>
            <when test="item.op=='notequal'">
              &lt;&gt;#{item.value}
            </when>
            <when test="item.op=='greater'">
              &gt;#{item.value}
            </when>
            <when test="item.op=='greaterorequal'">
              &gt;=#{item.value}
            </when>
            <when test="item.op=='less'">
              &lt;#{item.value}
            </when>
            <when test="item.op=='lessorequal'">
              &lt;=#{item.value}
            </when>
            <when test="item.op=='beginwith'">
              like #{item.value}"%"
            </when>
            <when test="item.op=='endwith'">
              like "%"#{item.value}
            </when>
          </choose>
        </foreach>
      </if>
      <if test="orderAccount!=null and orderAccount!=''">
        order_account=#{orderAccount}
      </if>
      <if test="startTime!=null and startTime!=''">
        and time&gt;=#{startTime}
      </if>
      <if test="endTime!=null and endTime!=''">
        and time&lt;=#{endTime}
      </if>
      and fake=0
    </where>
    order by
    <if test="sort==null or sort==''">
      pur_id desc
    </if>
    <if test="sort!=null and sort!=''">
      <choose>
        <when test="sort=='purNumber'">
          pur_number
        </when>
        <when test="sort=='orderAccount'">
          order_account
        </when>
        <when test="sort=='num'">
          num
        </when>
        <when test="sort=='time'">
          time
        </when>
        <when test="sort=='cardboardLength'">
          cardboard_length
        </when>
        <when test="sort=='cardboardWidth'">
          cardboard_width
        </when>
        <when test="sort=='lineType'">
          line_type
        </when>
      </choose>
      <choose>
        <when test="order=='ase'">
          asc
        </when>
        <when test="order=='desc'">
          desc
        </when>
      </choose>
    </if>
    limit #{cur},#{rows}
  </select>
  <select id="findByPurOutAll" resultType="com.generator.pojo.OutStorage">
    select
    <include refid="Base_Column_List" />
    from out_storage
    <where>
      <if test="list!=null">
        <foreach collection="list" item="item" separator=",">
          <choose>
            <when test="item.field=='purId'">
              and pur_id
            </when>
            <when test="item.field=='purNumber'">
              and pur_number
            </when>
            <when test="item.field=='orderAccount'">
              and order_account
            </when>
            <when test="item.field=='customName'">
              and custom_name
            </when>
            <when test="item.field=='cartonName'">
              and carton_name
            </when>
            <when test="item.field=='num'">
              and num
            </when>
            <when test="item.field=='time'">
              and time
            </when>
            <when test="item.field=='leader'">
              and leader
            </when>
            <when test="item.field=='adminName'">
              and admin_name
            </when>
            <when test="item.field=='materialScience'">
              and material_science
            </when>
            <when test="item.field=='pitType'">
              and pit_type
            </when>
            <when test="item.field=='cardboardLength'">
              and cardboard_length
            </when>
            <when test="item.field=='cardboardWidth'">
              and cardboard_width
            </when>
            <when test="item.field=='widthLine'">
              and width_line
            </when>
            <when test="item.field=='lineType'">
              and line_type
            </when>
          </choose>
          <choose>
            <when test="item.op=='contains'">
              like "%"#{item.value}"%"
            </when>
            <when test="item.op=='equal'">
              =#{item.value}
            </when>
            <when test="item.op=='notequal'">
              &lt;&gt;#{item.value}
            </when>
            <when test="item.op=='greater'">
              &gt;#{item.value}
            </when>
            <when test="item.op=='greaterorequal'">
              &gt;=#{item.value}
            </when>
            <when test="item.op=='less'">
              &lt;#{item.value}
            </when>
            <when test="item.op=='lessorequal'">
              &lt;=#{item.value}
            </when>
            <when test="item.op=='beginwith'">
              like #{item.value}"%"
            </when>
            <when test="item.op=='endwith'">
              like "%"#{item.value}
            </when>
          </choose>
        </foreach>
      </if>
      <if test="orderAccount!=null and orderAccount!=''">
        order_account=#{orderAccount}
      </if>
      <if test="startTime!=null and startTime!=''">
        and time&gt;=#{startTime}
      </if>
      <if test="endTime!=null and endTime!=''">
        and time&lt;=#{endTime}
      </if>
      and fake=0
    </where>
  </select>
  <select id="getMaxOutStorAccount" resultType="com.generator.pojo.OutStorage">
    select
    pur_number
    from out_storage
    where fake=0 and pur_id=(select max(pur_id) from out_storage where fake=0 and pur_number like #{time1}"%")
  </select>
</mapper>